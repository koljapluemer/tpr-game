[gd_scene load_steps=42 format=3 uid="uid://s4y47uscjvh1"]

[ext_resource type="Script" path="res://game/levels/level_templates/level_template.gd" id="1_nlmnm"]
[ext_resource type="PackedScene" uid="uid://fyvk5b7uo0am" path="res://game/ui/level_ui/level_ui.tscn" id="2_7gwc5"]
[ext_resource type="PackedScene" uid="uid://bunt3dvolwfk8" path="res://game/ui/quests/quest_ui.tscn" id="3_1wniv"]
[ext_resource type="Texture2D" uid="uid://dlgeyrynmonk5" path="res://game/levels/level_templates/level_templates/xxx_traffic_hub_small/bus_station_back.png" id="4_wa00i"]
[ext_resource type="Texture2D" uid="uid://b6p6pbhyv8gkf" path="res://game/levels/level_templates/level_templates/xxx_traffic_hub_small/bus_station_front.png" id="5_cpbcr"]
[ext_resource type="Script" path="res://game/levels/spawn_points/spawn_point.gd" id="6_c38q3"]
[ext_resource type="Script" path="res://game/scrapbook_objects/scrapbook_object.gd" id="7_w5415"]
[ext_resource type="Resource" uid="uid://dotmpfhcnthx4" path="res://game/words/words/word_lists/word_lists/generic_car.tres" id="8_v6w7l"]
[ext_resource type="Script" path="res://game/quest_manager/quest_manager.gd" id="9_2jdft"]
[ext_resource type="Resource" uid="uid://cj785s14tpmgg" path="res://game/words/colors/colors/blue.tres" id="9_arp03"]
[ext_resource type="Material" uid="uid://ddkmrxbhp6alq" path="res://game/shared_assets/material_outline.tres" id="10_5yeay"]
[ext_resource type="Texture2D" uid="uid://cakxf2086t7bj" path="res://game/scrapbook_objects/assets/object_pngs/car_blue_bmw_crop.png" id="11_57vw7"]
[ext_resource type="Resource" uid="uid://w7b2vk2lh7j0" path="res://game/interactions/interactions/lock_unlock.tres" id="13_hr7ok"]
[ext_resource type="Texture2D" uid="uid://bgk8pndtkspvy" path="res://game/scrapbook_objects/assets/object_pngs/car_blue_old_crop.png" id="14_l23dk"]
[ext_resource type="AudioStream" uid="uid://cldsltfa4o0xd" path="res://game/scrapbook_objects/objects/assets/mechanical_lock_short.wav" id="15_2oyok"]
[ext_resource type="Resource" uid="uid://bykurunclcrf2" path="res://game/words/colors/colors/red.tres" id="16_u4sdl"]
[ext_resource type="Texture2D" uid="uid://bifwwpxc0soal" path="res://game/scrapbook_objects/assets/object_pngs/car_red_nissan_crop.png" id="17_5p5tg"]
[ext_resource type="Texture2D" uid="uid://cp0psnhd72h42" path="res://game/scrapbook_objects/assets/object_pngs/car_red_crop.png" id="18_8gvhr"]
[ext_resource type="Script" path="res://game/words/words/word_lists/word_list.gd" id="19_gx35e"]
[ext_resource type="Script" path="res://game/words/word.gd" id="20_avrsc"]
[ext_resource type="Resource" uid="uid://3d3ajcmsnegv" path="res://game/words/words/car.tres" id="21_ie78s"]
[ext_resource type="Resource" uid="uid://co6bpklvrnfp2" path="res://game/words/words/vehicle.tres" id="22_w36jj"]
[ext_resource type="Texture2D" uid="uid://c4swvajrkbmtw" path="res://game/scrapbook_objects/assets/object_pngs/taxi_crop.png" id="23_rt31h"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_lgbwh"]
radius = 22.2698
height = 89.646

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_36a0r"]
radius = 21.4928
height = 42.9856

[sub_resource type="GDScript" id="GDScript_twmob"]
script/source = "## An [InteractionComponent] allowing an object to be locked and unlocked.
class_name LockableComponent extends InteractionComponent

signal object_lock_status_toggled

@export var audio_player:AudioStreamPlayer2D
@export var lock_sound: AudioStream
@export_category(\"State\")
@export var locked = true


func _react_to_input() -> bool:
	object_lock_status_toggled.emit()
	if audio_player and lock_sound:
		audio_player.stream = lock_sound
		audio_player.play()
	locked = !locked
	return true
"

[sub_resource type="PackedScene" id="PackedScene_q3jaq"]
_bundled = {
"conn_count": 4,
"conns": PackedInt32Array(2, 0, 27, 26, 2, 0, 0, 2, 0, 29, 28, 2, 0, 0, 4, 0, 27, 30, 2, 0, 0, 4, 0, 32, 31, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("Object", "z_index", "script", "word_list", "color", "Node2D", "Sprite", "unique_name_in_owner", "material", "position", "scale", "texture", "Sprite2D", "Area2D2", "collision_mask", "Area2D", "CollisionShape2D", "rotation", "shape", "InteractionShape2D", "InteractionCollisionShape2D", "debug_color", "Components", "LockableComponent", "selectable_area", "interaction", "_on_area_2d_2_body_entered", "body_entered", "_on_area_2d_2_input_event", "input_event", "_on_interaction_shape_2d_body_entered", "_on_interaction_shape_2d_body_exited", "body_exited"),
"node_count": 8,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 5, 0, -1, 4, 1, 0, 2, 1, 3, 2, 4, 3, 0, 0, 0, 12, 6, -1, 5, 7, 4, 8, 5, 9, 6, 10, 7, 11, 8, 0, 1, 0, 15, 13, -1, 2, 10, 9, 14, 10, 0, 2, 0, 16, 16, -1, 3, 7, 4, 17, 11, 18, 12, 0, 1, 0, 15, 19, -1, 3, 7, 4, 9, 13, 10, 9, 0, 4, 0, 16, 20, -1, 5, 7, 4, 9, 14, 17, 11, 18, 15, 21, 16, 0, 0, 0, 5, 22, -1, 1, 7, 4, 0, 6, 0, 5, 23, -1, 3, 2, 17, 1073741848, 18, 25, 19, 0),
"variants": [3, ExtResource("7_w5415"), ExtResource("8_v6w7l"), ExtResource("9_arp03"), true, ExtResource("10_5yeay"), Vector2(7.53463, -28), Vector2(0.0942982, 0.0942982), ExtResource("11_57vw7"), Vector2(20, 20), 255, 1.5708, SubResource("CapsuleShape2D_lgbwh"), Vector2(0, 200), Vector2(16.9674, -10.8013), SubResource("CapsuleShape2D_36a0r"), Color(0.662852, 0.510289, 0.148882, 0.42), SubResource("GDScript_twmob"), NodePath("../../Sprite/Area2D2"), ExtResource("13_hr7ok")],
"version": 3
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_g4ejf"]
height = 55.4724

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_veqxy"]
radius = 13.6433
height = 57.9413

[sub_resource type="PackedScene" id="PackedScene_uc07j"]
_bundled = {
"conn_count": 4,
"conns": PackedInt32Array(2, 0, 29, 28, 2, 0, 0, 2, 0, 31, 30, 2, 0, 0, 4, 0, 29, 32, 2, 0, 0, 4, 0, 34, 33, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("Object", "script", "word_list", "color", "Node2D", "Sprite", "unique_name_in_owner", "material", "position", "scale", "texture", "Sprite2D", "Area2D2", "collision_mask", "Area2D", "CollisionShape2D", "rotation", "shape", "InteractionShape2D", "InteractionCollisionShape2D", "debug_color", "Components", "LockableComponent", "audio_player", "lock_sound", "selectable_area", "interaction", "AudioStreamPlayer2D", "_on_area_2d_2_body_entered", "body_entered", "_on_area_2d_2_input_event", "input_event", "_on_interaction_shape_2d_body_entered", "_on_interaction_shape_2d_body_exited", "body_exited"),
"node_count": 9,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 4, 0, -1, 3, 1, 0, 2, 1, 3, 2, 0, 0, 0, 11, 5, -1, 5, 6, 3, 7, 4, 8, 5, 9, 6, 10, 7, 0, 1, 0, 14, 12, -1, 2, 9, 8, 13, 9, 0, 2, 0, 15, 15, -1, 3, 6, 3, 16, 10, 17, 11, 0, 1, 0, 14, 18, -1, 3, 6, 3, 8, 12, 9, 8, 0, 4, 0, 15, 19, -1, 5, 6, 3, 8, 13, 16, 10, 17, 14, 20, 15, 0, 0, 0, 4, 21, -1, 1, 6, 3, 0, 6, 0, 4, 22, -1, 5, 1, 16, 1073741847, 17, 24, 18, 1073741849, 19, 26, 20, 0, 0, 0, 27, 27, -1, 1, 6, 3, 0),
"variants": [ExtResource("7_w5415"), ExtResource("8_v6w7l"), ExtResource("9_arp03"), true, ExtResource("10_5yeay"), Vector2(11.8752, -41.6125), Vector2(0.162018, 0.162018), ExtResource("14_l23dk"), Vector2(20, 20), 255, 1.5708, SubResource("CapsuleShape2D_g4ejf"), Vector2(0, 200), Vector2(0, -10.8013), SubResource("CapsuleShape2D_veqxy"), Color(0.662852, 0.510289, 0.148882, 0.42), SubResource("GDScript_twmob"), NodePath("../../AudioStreamPlayer2D"), ExtResource("15_2oyok"), NodePath("../../Sprite/Area2D2"), ExtResource("13_hr7ok")],
"version": 3
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_u6u1q"]
radius = 23.3922
height = 77.981

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_apaig"]
radius = 24.7832
height = 88.1126

[sub_resource type="PackedScene" id="PackedScene_jty25"]
_bundled = {
"conn_count": 4,
"conns": PackedInt32Array(2, 0, 27, 26, 2, 0, 0, 2, 0, 29, 28, 2, 0, 0, 4, 0, 27, 30, 2, 0, 0, 4, 0, 32, 31, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("Object", "z_index", "script", "word_list", "color", "Node2D", "Sprite", "unique_name_in_owner", "material", "position", "rotation", "scale", "texture", "Sprite2D", "Area2D2", "collision_mask", "Area2D", "CollisionShape2D", "shape", "InteractionShape2D", "InteractionCollisionShape2D", "debug_color", "Components", "LockableComponent", "selectable_area", "interaction", "_on_area_2d_2_body_entered", "body_entered", "_on_area_2d_2_input_event", "input_event", "_on_interaction_shape_2d_body_entered", "_on_interaction_shape_2d_body_exited", "body_exited"),
"node_count": 8,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 5, 0, -1, 4, 1, 0, 2, 1, 3, 2, 4, 3, 0, 0, 0, 13, 6, -1, 6, 7, 4, 8, 5, 9, 6, 10, 7, 11, 8, 12, 9, 0, 1, 0, 16, 14, -1, 2, 11, 10, 15, 11, 0, 2, 0, 17, 17, -1, 3, 7, 4, 10, 12, 18, 13, 0, 1, 0, 16, 19, -1, 3, 7, 4, 9, 14, 11, 10, 0, 4, 0, 17, 20, -1, 5, 7, 4, 9, 15, 10, 12, 18, 16, 21, 17, 0, 0, 0, 5, 22, -1, 1, 7, 4, 0, 6, 0, 5, 23, -1, 3, 2, 18, 1073741848, 19, 25, 20, 0),
"variants": [3, ExtResource("7_w5415"), ExtResource("8_v6w7l"), ExtResource("16_u4sdl"), true, ExtResource("10_5yeay"), Vector2(-10.4241, -36.1637), 0.0355842, Vector2(0.0817177, 0.0817177), ExtResource("17_5p5tg"), Vector2(20, 20), 255, 1.5708, SubResource("CapsuleShape2D_u6u1q"), Vector2(0, 200), Vector2(-1.06052, -10.8013), SubResource("CapsuleShape2D_apaig"), Color(0.662852, 0.510289, 0.148882, 0.42), SubResource("GDScript_twmob"), NodePath("../../Sprite/Area2D2"), ExtResource("13_hr7ok")],
"version": 3
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_48vi7"]
radius = 12.7256
height = 77.981

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_muas0"]
radius = 13.5269
height = 42.9856

[sub_resource type="PackedScene" id="PackedScene_q0eko"]
_bundled = {
"conn_count": 4,
"conns": PackedInt32Array(2, 0, 27, 26, 2, 0, 0, 2, 0, 29, 28, 2, 0, 0, 4, 0, 27, 30, 2, 0, 0, 4, 0, 32, 31, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("Object", "z_index", "script", "word_list", "color", "Node2D", "Sprite", "unique_name_in_owner", "material", "position", "rotation", "scale", "texture", "Sprite2D", "Area2D2", "collision_mask", "Area2D", "CollisionShape2D", "shape", "InteractionShape2D", "InteractionCollisionShape2D", "debug_color", "Components", "LockableComponent", "selectable_area", "interaction", "_on_area_2d_2_body_entered", "body_entered", "_on_area_2d_2_input_event", "input_event", "_on_interaction_shape_2d_body_entered", "_on_interaction_shape_2d_body_exited", "body_exited"),
"node_count": 8,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 5, 0, -1, 4, 1, 0, 2, 1, 3, 2, 4, 3, 0, 0, 0, 13, 6, -1, 6, 7, 4, 8, 5, 9, 6, 10, 7, 11, 8, 12, 9, 0, 1, 0, 16, 14, -1, 2, 11, 10, 15, 11, 0, 2, 0, 17, 17, -1, 3, 7, 4, 10, 12, 18, 13, 0, 1, 0, 16, 19, -1, 3, 7, 4, 9, 14, 11, 10, 0, 4, 0, 17, 20, -1, 5, 7, 4, 9, 15, 10, 12, 18, 16, 21, 17, 0, 0, 0, 5, 22, -1, 1, 7, 4, 0, 6, 0, 5, 23, -1, 3, 2, 18, 1073741848, 19, 25, 20, 0),
"variants": [3, ExtResource("7_w5415"), ExtResource("8_v6w7l"), ExtResource("16_u4sdl"), true, ExtResource("10_5yeay"), Vector2(5.1079, -31.2884), 0.0193609, Vector2(0.134022, 0.134022), ExtResource("18_8gvhr"), Vector2(20, 20), 255, 1.5708, SubResource("CapsuleShape2D_48vi7"), Vector2(0, 200), Vector2(-1.06052, -10.8013), SubResource("CapsuleShape2D_muas0"), Color(0.662852, 0.510289, 0.148882, 0.42), SubResource("GDScript_twmob"), NodePath("../../Sprite/Area2D2"), ExtResource("13_hr7ok")],
"version": 3
}

[sub_resource type="Resource" id="Resource_6un7g"]
script = ExtResource("20_avrsc")
key = "TAXI"
word_group = Array[String](["WORD"])

[sub_resource type="Resource" id="Resource_c6wd4"]
script = ExtResource("19_gx35e")
words = Array[ExtResource("20_avrsc")]([ExtResource("21_ie78s"), ExtResource("22_w36jj"), SubResource("Resource_6un7g")])

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_r707o"]
height = 77.0749

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ai0j6"]
radius = 13.6433
height = 27.6977

[sub_resource type="PackedScene" id="PackedScene_rxdkw"]
_bundled = {
"conn_count": 4,
"conns": PackedInt32Array(2, 0, 25, 24, 2, 0, 0, 2, 0, 27, 26, 2, 0, 0, 4, 0, 25, 28, 2, 0, 0, 4, 0, 30, 29, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("Object", "script", "word_list", "Node2D", "Sprite", "unique_name_in_owner", "material", "position", "scale", "texture", "Sprite2D", "Area2D2", "collision_mask", "Area2D", "CollisionShape2D", "rotation", "shape", "InteractionShape2D", "InteractionCollisionShape2D", "debug_color", "Components", "LockableComponent", "selectable_area", "interaction", "_on_area_2d_2_body_entered", "body_entered", "_on_area_2d_2_input_event", "input_event", "_on_interaction_shape_2d_body_entered", "_on_interaction_shape_2d_body_exited", "body_exited"),
"node_count": 8,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 3, 0, -1, 2, 1, 0, 2, 1, 0, 0, 0, 10, 4, -1, 5, 5, 2, 6, 3, 7, 4, 8, 5, 9, 6, 0, 1, 0, 13, 11, -1, 2, 8, 7, 12, 8, 0, 2, 0, 14, 14, -1, 3, 5, 2, 15, 9, 16, 10, 0, 1, 0, 13, 17, -1, 3, 5, 2, 7, 11, 8, 7, 0, 4, 0, 14, 18, -1, 5, 5, 2, 7, 12, 15, 9, 16, 13, 19, 14, 0, 0, 0, 3, 20, -1, 1, 5, 2, 0, 6, 0, 3, 21, -1, 3, 1, 15, 1073741846, 16, 23, 17, 0),
"variants": [ExtResource("7_w5415"), SubResource("Resource_c6wd4"), true, ExtResource("10_5yeay"), Vector2(11.8752, -41.6125), Vector2(0.162018, 0.162018), ExtResource("23_rt31h"), Vector2(20, 20), 255, 1.5708, SubResource("CapsuleShape2D_r707o"), Vector2(0, 200), Vector2(0, -10.8013), SubResource("CapsuleShape2D_ai0j6"), Color(0.662852, 0.510289, 0.148882, 0.42), SubResource("GDScript_twmob"), NodePath("../../Sprite/Area2D2"), ExtResource("13_hr7ok")],
"version": 3
}

[node name="Level" type="Node2D"]
script = ExtResource("1_nlmnm")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(400, 150)

[node name="CanvasLayer" parent="." instance=ExtResource("2_7gwc5")]
unique_name_in_owner = true

[node name="QuestsHolder" parent="CanvasLayer/HBoxContainer/QuestWrapper/MarginContainer/QuestsMenu" index="1" node_paths=PackedStringArray("quest_manager")]
quest_ui = ExtResource("3_1wniv")
quest_manager = NodePath("../../../../../../QuestManager")

[node name="Background" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Background"]
position = Vector2(484, 79)
scale = Vector2(0.668314, 0.668314)
texture = ExtResource("4_wa00i")

[node name="Sprite2D2" type="Sprite2D" parent="Background"]
z_index = 3
position = Vector2(505, 353)
scale = Vector2(0.542389, 0.542389)
texture = ExtResource("5_cpbcr")

[node name="SpawnPoints" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="SpawnPoint" type="Marker2D" parent="SpawnPoints"]
position = Vector2(592, 251)
script = ExtResource("6_c38q3")
accepts = Array[PackedScene]([SubResource("PackedScene_q3jaq"), SubResource("PackedScene_uc07j"), SubResource("PackedScene_jty25"), SubResource("PackedScene_q0eko"), SubResource("PackedScene_rxdkw")])
scale_factor = 1.5

[node name="QuestManager" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("9_2jdft")

[editable path="CanvasLayer"]
